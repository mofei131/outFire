(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views"],{"1d46":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("basic-container",[r("avue-tabs",{attrs:{option:e.option},on:{change:e.handleChange,submit:e.handleSubmit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},s=[],o=(r("7f7f"),{column:[{label:"个人信息",prop:"info",option:{submitText:"修改",column:[{label:"头像",type:"upload",listType:"picture-img",propsHttp:{res:"data",url:"link"},canvasOption:{text:"bladex",ratio:.1},action:"/api/iot/putfile?bucketName=iot",tip:"只能上传jpg/png用户头像，且不超过500kb",span:12,row:!0,prop:"avatar"},{label:"姓名",span:12,row:!0,prop:"name"},{label:"用户名",span:12,row:!0,prop:"realName"},{label:"手机号",span:12,row:!0,prop:"phone"},{label:"邮箱",prop:"email",span:12,row:!0}]}},{label:"修改密码",prop:"password",option:{submitText:"修改",column:[{label:"原密码",span:12,row:!0,type:"password",prop:"oldPassword"},{label:"新密码",span:12,row:!0,type:"password",prop:"newPassword"},{label:"确认密码",span:12,row:!0,type:"password",prop:"newPassword1"}]}}]}),n=r("c0c7"),i={data:function(){return{type:"info",option:o,form:{}}},created:function(){this.handleWitch()},methods:{handleSubmit:function(){var e=this;"info"===this.type?Object(n["g"])(this.form).then(function(t){t.data.success?e.$message({type:"success",message:"修改信息成功!"}):e.$message({type:"error",message:t.data.msg})}):Object(n["h"])(this.form.oldPassword,this.form.newPassword,this.form.newPassword1).then(function(t){t.data.success?e.$message({type:"success",message:"修改密码成功!"}):e.$message({type:"error",message:t.data.msg})})},handleWitch:function(){var e=this;"info"===this.type&&Object(n["d"])().then(function(t){var r=t.data.data;e.form={id:r.id,avatar:r.avatar,name:r.name,realName:r.realName,phone:r.phone,email:r.email}})},handleChange:function(e){this.type=e.prop,this.handleWitch()}}},c=i,l=r("2877"),u=Object(l["a"])(c,a,s,!1,null,null,null);t["default"]=u.exports},"1e69":function(e,t,r){"use strict";r.d(t,"f",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return p});r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d");var a=r("bd86"),s=r("b5c6");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){Object(a["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=function(e,t,r){return Object(s["a"])({url:"/api/blade-flow/work/start-list",method:"get",params:n({},r,{current:e,size:t})})},c=function(e,t,r){return Object(s["a"])({url:"/api/blade-flow/work/claim-list",method:"get",params:n({},r,{current:e,size:t})})},l=function(e,t,r){return Object(s["a"])({url:"/api/blade-flow/work/todo-list",method:"get",params:n({},r,{current:e,size:t})})},u=function(e,t,r){return Object(s["a"])({url:"/api/blade-flow/work/send-list",method:"get",params:n({},r,{current:e,size:t})})},d=function(e,t,r){return Object(s["a"])({url:"/api/blade-flow/work/done-list",method:"get",params:n({},r,{current:e,size:t})})},m=function(e){return Object(s["a"])({url:"/api/blade-flow/work/claim-task",method:"post",params:{taskId:e}})},p=function(e){return Object(s["a"])({url:"/api/blade-flow/work/complete-task",method:"post",data:e})}},"6e96":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("basic-container",[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleAgree}},[e._v("同意")]),r("el-button",{attrs:{type:"danger"},on:{click:e.handleDisagree}},[e._v("驳回")]),r("el-button",{on:{click:e.handleCancel}},[e._v("关闭")])],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("审批信息")])]),r("el-form-item",{attrs:{label:"申请人"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.flow.assigneeName,callback:function(t){e.$set(e.form.flow,"assigneeName",t)},expression:"form.flow.assigneeName"}})],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开始时间"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"结束时间"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1)],1),r("el-form-item",{attrs:{label:"请假理由"}},[r("el-input",{attrs:{disabled:!0,type:"textarea"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),r("el-form-item",{attrs:{label:"批复意见"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("流程信息")])]),r("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[r("el-timeline",e._l(e.flowList,function(t){return r("el-timeline-item",{key:t.id,attrs:{timestamp:t.createTime,placement:"top"}},[r("el-card",{attrs:{shadow:"hover"}},[r("p",[e._v(e._s(t.assigneeName)+" 在 ["+e._s(t.createTime)+"] 开始处理 ["+e._s(t.historyActivityName)+"] 环节")]),""!==t.historyActivityDurationTime?r("p",[e._v("任务历时 ["+e._s(t.historyActivityDurationTime)+"]")]):e._e(),""!==t.comment?r("p",[e._v("批复意见: ["+e._s(t.comment)+"]")]):e._e(),""!==t.endTime?r("p",[e._v("结束时间: ["+e._s(t.endTime)+"]")]):e._e()])],1)}),1)],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("流程跟踪")])]),r("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[r("img",{attrs:{src:e.src,alt:"design"}})])],1)],1)],1)},s=[],o=r("fc8c"),n=r("1e69"),i={data:function(){return{taskId:"",businessId:"",processInstanceId:"",src:"",flowList:[],form:{flow:{assigneeName:""},startTime:"",endTime:"",reason:"",comment:""}}},created:function(){this.init()},methods:{init:function(){var e=this;this.taskId=this.$route.params.taskId,this.processInstanceId=this.$route.params.processInstanceId,this.businessId=this.$route.params.businessId,this.src="/api/blade-flow/process/diagram-view?processInstanceId=".concat(this.$route.params.processInstanceId),Object(o["a"])(this.processInstanceId).then(function(t){var r=t.data;r.success&&(e.flowList=r.data)}),Object(o["b"])(this.businessId).then(function(t){var r=t.data;r.success&&(e.form=r.data)})},handleAgree:function(){var e=this;if(this.form.comment){var t={taskId:this.taskId,processInstanceId:this.processInstanceId,flag:"ok",comment:this.form.comment};Object(n["c"])(t).then(function(t){var r=t.data;r.success?(e.$message.success(r.msg),e.$router.$avueRouter.closeTag(),e.$router.push({path:"/work/start"})):e.$message.error(r.msg||"提交失败")})}else this.$message.warning("请先填写批复意见")},handleDisagree:function(){var e=this;if(this.form.comment){var t={taskId:this.taskId,processInstanceId:this.processInstanceId,comment:this.form.comment};Object(n["c"])(t).then(function(t){var r=t.data;r.success?(e.$message.success(r.msg),e.$router.$avueRouter.closeTag(),e.$router.push({path:"/work/start"})):e.$message.error(r.msg||"提交失败")})}else this.$message.warning("请先填写批复意见")},handleCancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/work/start"})}}},c=i,l=r("2877"),u=Object(l["a"])(c,a,s,!1,null,null,null);t["default"]=u.exports},ab5c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("basic-container",[e._v("测试页")])],1)},s=[],o={name:"wel",data:function(){return{}},computed:{},created:function(){},methods:{}},n=o,i=r("2877"),c=Object(i["a"])(n,a,s,!1,null,"79e3ac39",null);t["default"]=c.exports},bbe5:function(e,t,r){"use strict";var a=r("e22e"),s=r.n(a);s.a},c0c7:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"e",function(){return c}),r.d(t,"a",function(){return l}),r.d(t,"g",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return m}),r.d(t,"f",function(){return p}),r.d(t,"h",function(){return f});r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d");var a=r("bd86"),s=r("b5c6");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){Object(a["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=function(e,t,r){return Object(s["a"])({url:"/api/blade-user/list",method:"get",params:n({},r,{current:e,size:t})})},c=function(e){return Object(s["a"])({url:"/api/blade-user/remove",method:"post",params:{ids:e}})},l=function(e){return Object(s["a"])({url:"/api/blade-user/submit",method:"post",data:e})},u=function(e){return Object(s["a"])({url:"/api/blade-user/update",method:"post",data:e})},d=function(e){return Object(s["a"])({url:"/api/blade-user/detail",method:"get",params:{id:e}})},m=function(){return Object(s["a"])({url:"/api/blade-user/info",method:"get"})},p=function(e){return Object(s["a"])({url:"/api/blade-user/reset-password",method:"post",params:{userIds:e}})},f=function(e,t,r){return Object(s["a"])({url:"/api/blade-user/update-password",method:"post",params:{oldPassword:e,newPassword:t,newPassword1:r}})}},d26f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("basic-container",[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-form-item",[r("el-button",{on:{click:e.handleCancel}},[e._v("关闭")])],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("审批信息")])]),r("el-form-item",{attrs:{label:"申请人"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.flow.assigneeName,callback:function(t){e.$set(e.form.flow,"assigneeName",t)},expression:"form.flow.assigneeName"}})],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开始时间"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"结束时间"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1)],1),r("el-form-item",{attrs:{label:"请假理由"}},[r("el-input",{attrs:{disabled:!0,type:"textarea"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("流程信息")])]),r("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[r("el-timeline",e._l(e.flowList,function(t){return r("el-timeline-item",{key:t.id,attrs:{timestamp:t.createTime,placement:"top"}},[r("el-card",{attrs:{shadow:"hover"}},[r("p",[e._v(e._s(t.assigneeName)+" 在 ["+e._s(t.createTime)+"] 开始处理 ["+e._s(t.historyActivityName)+"] 环节")]),""!==t.historyActivityDurationTime?r("p",[e._v("任务历时 ["+e._s(t.historyActivityDurationTime)+"]")]):e._e(),""!==t.comment?r("p",[e._v("批复意见: ["+e._s(t.comment)+"]")]):e._e(),""!==t.endTime?r("p",[e._v("结束时间: ["+e._s(t.endTime)+"]")]):e._e()])],1)}),1)],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("流程跟踪")])]),r("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[r("img",{attrs:{src:e.src,alt:"design"}})])],1)],1)],1)},s=[],o=r("fc8c"),n={data:function(){return{businessId:"",processInstanceId:"",src:"",flowList:[],form:{flow:{assigneeName:""},startTime:"",endTime:"",reason:""}}},created:function(){this.init()},methods:{init:function(){var e=this;this.processInstanceId=this.$route.params.processInstanceId,this.businessId=this.$route.params.businessId,this.src="/api/blade-flow/process/diagram-view?processInstanceId=".concat(this.$route.params.processInstanceId),Object(o["a"])(this.processInstanceId).then(function(t){var r=t.data;r.success&&(e.flowList=r.data)}),Object(o["b"])(this.businessId).then(function(t){var r=t.data;r.success&&(e.form=r.data)})},handleCancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/work/start"})}}},i=n,c=r("2877"),l=Object(c["a"])(i,a,s,!1,null,null,null);t["default"]=l.exports},d731:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{staticClass:"inputLabel"},[e._v("输入地址："),r("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),r("br"),r("baidu-map",{staticClass:"mapNew",attrs:{id:"mapID",center:"新疆",zoom:e.zoom,"scroll-wheel-zoom":!0},on:{click:e.getPoint}},[r("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_LEFT"}}),r("bm-local-search",{staticStyle:{display:"none"},attrs:{keyword:e.keyword,"auto-viewport":!0,location:e.location,zoom:"12.8"}}),r("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),r("bm-marker",{attrs:{position:e.postionMap}},[r("bm-info-window",{staticStyle:{"font-size":"14px"},attrs:{show:e.show},on:{close:e.infoWindowClose,open:e.infoWindowOpen}},[r("p",[e._v("站点："+e._s(e.add.siteName))]),r("p",[e._v("详细地址："+e._s(e.add.site))])])],1)],1)],1)},s=[],o={data:function(){return{jgNameDialog:!1,show:!1,postionMap:{lng:120.211486,lat:30.256576},location:"",keyword:"",zoom:12.8,address:"",add:{siteName:"",site:"",jd:"",wd:"",desce:"",type:"",jgName:"",jgNum:""},organizationData:[],jgName:"",jgNum:""}},methods:{getPoint:function(e){var t=this;this.show=!0,this.postionMap.lng=e.point.lng,this.postionMap.lat=e.point.lat,this.add.jd=e.point.lng,this.add.wd=e.point.lat,this.zoom=e.target.getZoom();var r=new BMap.Geocoder;r.getLocation(e.point,function(e){t.add.site=e.address})},infoWindowClose:function(){this.show=!1},infoWindowOpen:function(){var e=this;setInterval(function(){e.show=!0},1e4)}}},n=o,i=(r("bbe5"),r("2877")),c=Object(i["a"])(n,a,s,!1,null,"c5c1c39a",null);t["default"]=c.exports},e22e:function(e,t,r){},eaa2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("basic-container",[r("avue-form",{attrs:{option:e.option},on:{submit:e.handleSubmit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},s=[],o=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("bd86")),n=r("fc8c");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l={data:function(){return{form:{},option:{group:[{icon:"el-icon-info",label:"请假基础信息",prop:"group1",column:[{label:"审批人员",prop:"taskUser",type:"select",dicUrl:"/api/blade-user/user-list",props:{label:"account",value:"id"},span:24,rules:[{required:!0,message:"请选择审批人员",trigger:"blur"}]},{label:"开始时间",prop:"startTime",type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"请选择开始时间",trigger:"blur"}]},{label:"结束时间",prop:"endTime",type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},{label:"请假理由",prop:"reason",type:"textarea",span:24,rules:[{required:!0,message:"请输入请假理由",trigger:"blur"}]}]}]}}},methods:{handleSubmit:function(){var e=this,t=c({processDefinitionId:this.$route.params.processDefinitionId},this.form);Object(n["c"])(t).then(function(t){var r=t.data;r.success?(e.$message.success(r.msg),e.$router.$avueRouter.closeTag(),e.$router.push({path:"/work/start"})):e.$message.error(r.msg||"提交失败")})}}},u=l,d=r("2877"),m=Object(d["a"])(u,a,s,!1,null,null,null);t["default"]=m.exports},fc8c:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n});var a=r("b5c6"),s=function(e){return Object(a["a"])({url:"/api/blade-flow/process/history-flow-list",method:"get",params:{processInstanceId:e}})},o=function(e){return Object(a["a"])({url:"/api/blade-desk/process/leave/start-process",method:"post",data:e})},n=function(e){return Object(a["a"])({url:"/api/blade-desk/process/leave/detail",method:"get",params:{businessId:e}})}}}]);